# ============================================
# TRANSACTION HISTORY SERVICE - Environment Variables Example
# ============================================
# Copiez ce fichier en .env et remplissez les valeurs

# ============================================
# APPLICATION
# ============================================
SPRING_PROFILES_ACTIVE=prod
SERVER_PORT=8086

# ============================================
# JHIPSTER REGISTRY
# ============================================
JHIPSTER_REGISTRY_URL=http://jhipster-registry:8761
JHIPSTER_REGISTRY_PASSWORD=admin

# ============================================
# DATABASE (MongoDB)
# ============================================
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_DATABASE=historyservice
MONGODB_URI=mongodb://mongodb:27017/historyservice
# Si authentification requise
MONGODB_USERNAME=
MONGODB_PASSWORD=

# ============================================
# KAFKA (depuis la Gateway)
# ============================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP_ID=history-service-group
KAFKA_TOPICS_TRANSACTION_CREATED=transaction-created
KAFKA_TOPICS_TRANSACTION_COMPLETED=transaction-completed

# ============================================
# KEYCLOAK (OAuth2 - depuis la Gateway)
# ============================================
KEYCLOAK_URL=http://localhost:9080
KEYCLOAK_REALM=jhipster
SPRING_SECURITY_OAUTH2_CLIENT_PROVIDER_OIDC_ISSUER_URI=http://localhost:9080/realms/jhipster

# ============================================
# REDIS (Cache pour les requÃªtes)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URI=redis://redis:6379
REDIS_CACHE_EXPIRATION=3600

# ============================================
# ELASTICSEARCH (Recherche full-text)
# ============================================
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_URI=http://elasticsearch:9200
# Si authentification requise
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ============================================
# GRAPHQL
# ============================================
GRAPHQL_ENABLED=true
GRAPHQL_PATH=/graphql
GRAPHQL_PLAYGROUND_ENABLED=false
GRAPHQL_INTROSPECTION_ENABLED=false

# ============================================
# MONITORING (Optional)
# ============================================
ZIPKIN_URL=http://zipkin:9411
PROMETHEUS_ENABLED=true

# ============================================
# LOGGING
# ============================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_APP=INFO

# ============================================
# DOCKER / DEPLOYMENT
# ============================================
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE_NAME=ondmoney/transaction-history-service
DOCKER_IMAGE_TAG=latest

# ============================================
# KUBERNETES
# ============================================
K8S_NAMESPACE=ondmoney
